{# all macros in decorators take SAFE values and they are NOT escaped #}

{% macro collapsible(title, content, collapsed) %}
  {% unique collapsible id %}
  <div class="collapsible" id="{{ id }}">
    <div class="collapsibleheader togglevisibility" onclick="toggleVisibility('{{ id }}')">
      {{ title|safe }}
    </div>
    <div class="collapsiblecontent">
      {{ content|safe }}
    </div>
    {% if collapsed %}
      <script type="text/javascript">
        toggleVisibility("{{ id }}");
      </script>
    {% endif %}
  </div>
{% endmacro %}

{% macro table(class, head, body, foot) %}
  {% unique table id %}
  {% if class != "" %}
    {% set class=" "+class %}
  {% endif %}
  <table id="{{ id }}" class="colstyle-sorting{{ class }}">
    <thead>
      <tr>
        {{ head|safe }}
      </tr>
    </thead>
    {# tu by mal byt po spravnosti tfoot, aby bol vystup validny
       lenze to je treba najprv upravit ten triediaci skript
       (pri tlaci chceme totiz tfoot iba na spodu bez opakovania)
       jedna moznost je nepouzit tfoot, ale tbody s nejakym classom
    #}
    <tbody>
      {{ body|safe }}
    </tbody>
    {% if foot %}
      <tfoot>
        {{ foot|safe }}
      </tfoot>
    {% endif %}    
  </table>
{% endmacro %}
